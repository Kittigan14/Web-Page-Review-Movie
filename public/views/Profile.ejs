<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../Css/style.css" />
    <script src="../Script/Dark-Mode.js"></script>
    <title>Movie Minds Hub</title>
    <link rel="icon" type="image/x-icon" href="../Icon/Icon-WebPage-2.png" />
</head>
<body>
    <!-- Nav Bar Menu -->
    <div class="navbar">
        <!-- Menu -->
        <ul class="navbar-menu">
            <li><a href="/" class="nav-item"> Home </a></li>
            <li><a href="/movies" class="nav-item"> Movie </a></li>
            <li><a href="/contact" class="nav-item"> Contact </a></li>
            <li class="Caption"> Reviews By , For You </li>
        </ul>

        <!-- Logo Webpage -->
        <div class="navbar-logo">
            <img class="Logo-Dark" src="../Icon/Logo-WebPage.png" width="150px" height="150px" />
            <img class="Logo-Light" src="../Icon/Logo-WebPage-Light.png" width="150px" height="150px" />
        </div>

        <!-- Search Bar -->
        <div class="search-bar" id="searchBar">
            <form action="/searchMovie" method="GET" class="search-form">
                <input id="inputSearch" type="text" name="searchTerm" placeholder="Search ..." />
                <button type="submit" class="button-search">
                    <img class="search-img" src="../Icon/Search-Icon-Dark1.png" alt="" />
                </button>
            </form>
        </div>

        <% if (profileData.UserName) { %>
        <a href="/profile">
            <div class="logged-in-username" id="loggedInUsername">
                <img src="../Icon/user.png" alt="">
                <%= profileData.UserName %>
            </div>
        </a>

        <form action="/logout" method="GET">
            <button type="submit" class="button-logout" id="logoutButton">
                Logout
            </button>
        </form>
        <% } else { %>
        <button class="button-login" id="loginButton">
            <a href="/login"> Login </a>
        </button>

        <button class="button-register" id="registerButton">
            <a href="/register"> Sign Up </a>
        </button>
        <% } %>

        <button class="Button-Mode" onclick="toggleModeAndImage()">
            <p class="image-Switch" id="imageSwitch" src="#" alt="">
        </button>

    </div>

    <div class="Profile-container">
        <div class="Profile-wrapp">
            <center>
                <h4> Profile </h4>
            </center>
            <ul>
                <label for="">USER NAME</label>
                <li>
                    <%= profileData.UserName %>
                    <button class="Edit-button">
                        <a href="/editUsername"> EDIT </a>
                    </button>
                </li>

                <% if (profileData) { %>
                <label for="">EMAIL</label>
                <li>
                    <%= profileData.Email %>
                    <button class="Edit-button">
                        <a href="/editEmail">EDIT</a>
                    </button>
                </li>
                <% } else { %>
                <p>Profile Data not available</p>
                <% } %>

            </ul>

            <div class="button-action">

                <button class="back-button">
                    <a href="/">
                        <img src="../Icon/back-button.png" alt="" width="64px">
                    </a>
                </button>

                <form action="/deleteUser" method="POST">
                    <input type="hidden" name="userName" value="<%= profileData.UserName %>">
                    <button type="submit" class="Delete-User-button">DELETE USER</button>
                </form>

            </div>

        </div>
    </div>

    <div class="banner-container">
        <div class="banner-images"></div>
    </div>
</body>

</html>